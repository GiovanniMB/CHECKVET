<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <%- include('../partials/head')%>
        <title>CHECKVET - Registro</title>
</head>

<body>
    <%- include('../partials/header')%>

        <main role="main" class="py-4">
            <div class="container">
                <div class="card shadow-sm">
                    <div class="card-header bg-success text-white">
                        <h4 class="card-title text-center mb-0"><i class="bi bi-pencil-square me-2"></i>Registro de
                            Desparasitación</h4>
                    </div>

                    <div class="card-body">
                        <form id="registro-form" novalidate>
                            <!-- Sección Mascota -->
                            <section class="form-section" aria-labelledby="datos-mascota-heading">
                                <h2 id="datos-mascota-heading"><i class="bi bi-heart-pulse me-2"></i>Mascota
                                </h2>

                                <div class="row g-3 mb-4">
                                    <div class="col-md-12">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="expediente"
                                                name="expediente" placeholder=" " required readonly>
                                            <label for="expediente" class="required-field">Nombre de la Mascota </label>
                                        </div>
                                    </div>
                                </div>
                                
                                
                                
                                </div>
                            </section>

                            
                            <!-- Sección Vacuna -->
                            <section class="form-section" aria-labelledby="datos-vacuna-heading">
                                <h2 id="datos-vacuna-heading"><i class="bi bi-bug"></i> Datos de Desparasitación
                                </h2>

                                <div class="row g-3">
                                    <div class="col-md-4">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="medicamento" name="medicamento"
                                                placeholder=" " required>
                                            <label for="medicamento class="required-field">Nombre del Desparasitante</label>
                                        </div>
                                    </div>

                                    <div class="col-md-4">
                                        <div class="form-floating">

                                            <select class="form-select" id="tipo" name="tipo" required>
                                                <option value="" selected disabled>Seleccione tipo de desparasitante</option>
                                                <option value="Interno/externo">Interno/externo</option>
                                                <option value="Interno">Interno</option>
                                                <option value="Externo">Externo</option>
                                            </select>
                                            <label for="tipo" class="required-field">Tipo</label>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="lote" name="lote"
                                                 placeholder=" " required>
                                            <label for="lote" class="required-field"> Lote </label>
                                        </div>
                                    </div>
                                </div>

                                <div class="row g-3 mt-2">
                                    <div class="col-md-3">
                                        <div class="form-floating">
                                            <input type="date" class="form-control" id="fecha" name="fecha">
                                            <label for="fecha">Fecha de Vacunación</label>
                                        </div>

                                    </div>
                                    <div class="col-md-3">
                                        <div class="form-floating">
                                            <input type="date" class="form-control" name="fechaProxima" id="fechaProxima">
                                            <label for="fechaProxima">Fecha de Proxima Vacunación</label>
                                        </div>

                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-floating">
                                            <input type="text" class="form-control" id="observaciones" name="observaciones"
                                                 placeholder=" " required>
                                            <label for="observaciones" class="required-field"> Observaciones </label>
                                        </div>

                                    </div>
                                </div>
                            </section>



                            <!-- Botones de acción -->
                            <div class="d-flex justify-content-between mt-4">
                                <button type="reset" class="btn btn-outline-secondary px-4">
                                    <i class="bi bi-arrow-counterclockwise me-2"></i>Limpiar
                                </button>

                                <button type="submit" class="btn btn-success px-4">
                                    <i class="bi bi-save me-2"></i>Guardar Registro
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
        <%- include('../partials/footer')%>

            <script src="/mascotaService.js"></script>
            <script src="/registroController.js"></script>
            <script>
                document.querySelectorAll('.password-toggle').forEach(toggle => {
                    toggle.addEventListener('click', function () {
                        const passwordInput = this.previousElementSibling;
                        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                        passwordInput.setAttribute('type', type);
                        this.querySelector('i').classList.toggle('bi-eye');
                        this.querySelector('i').classList.toggle('bi-eye-slash');
                    });
                });

                // Validación de formulario
                document.getElementById('registro-form').addEventListener('submit', function (e) {
                    e.preventDefault();

                    // Validar que las contraseñas coincidan
                    const password = document.getElementById('password').value;
                    const confirmPassword = document.getElementById('confirmPassword').value;

                    if (password !== confirmPassword) {
                        alert('Las contraseñas no coinciden');
                        return;
                    }

                    if (this.checkValidity()) {
                        alert('Formulario enviado correctamente');
                        // this.submit();
                    } else {
                        e.stopPropagation();
                        this.classList.add('was-validated');
                    }
                });

            </script>
</body>

</html>